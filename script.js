!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t,n,r,a,c,o){try{var u=e[c](o),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(a,c){var o=e.apply(t,r);function u(e){n(o,a,c,u,i,"next",e)}function i(e){n(o,a,c,u,i,"throw",e)}u(void 0)}))}}e.r(t),e.d(t,{init:function(){return i}});var a="https://get.geojs.io/v1/ip/geo.json",c="https://api.openweathermap.org/data/2.5/weather",o="88ce4f055b5f8a390b0c49938a6d8383",u="metric";function i(e){return p.apply(this,arguments)}function p(){return(p=r(regeneratorRuntime.mark((function e(t){var n,i,p,s,m,d,f,l,v,h,g,y,w,x,b,E,R,L,k,j,M,S,T,O,P,H,I,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I=function(e,t){t.includes(e)||(t.unshift(e),t.length>10&&t.pop())},H=function(e,t){e.innerHTML="<ul>".concat(t.map((function(e){return"<li>".concat(e,"</li>")})).join(""),"</ul>")},P=function(e){localStorage.setItem("list",JSON.stringify(e))},O=function(){return(O=r(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("list"));case 2:return t=e.sent,e.abrupt("return",null!=t?t:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},T=function(){return O.apply(this,arguments)},S=function(){return(S=r(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,b(t);case 5:return n=e.sent,e.next=8,R(n);case 8:j(n),p.addEventListener("change",function(){var e=r(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,b(void 0,n);case 3:return r=e.sent,e.next=6,R(r);case 6:j(r,!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m.addEventListener("click",function(){var e=r(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("LI"!==t.target.tagName){e.next=8;break}return n=t.target.innerText,e.next=4,b(void 0,n);case 4:return r=e.sent,e.next=7,R(r);case 7:j(r,!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},M=function(){return S.apply(this,arguments)},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(k(),f());var n=e.coord,r=n.lon,a=n.lat,c=function(){return new ymaps.Map("map",{center:[a,r],zoom:9})};ymaps.ready(c)},k=function(){document.getElementById("map").remove()},L=function(){return(L=r(regeneratorRuntime.mark((function e(t){var n,r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r=t.sys.country,a=t.main.temp,c=t.weather[0].icon,y.innerHTML="temperature:",l.innerHTML="".concat(Math.ceil(a),"Â°C"),v.innerHTML="".concat(n," (").concat(r,")"),g.innerHTML="city:",h.src="https://openweathermap.org/img/wn/".concat(c,"@2x.png"),d.append(g),d.append(v),d.append(h),d.append(y),d.append(l);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=function(e){return L.apply(this,arguments)},E=function(){return(E=r(regeneratorRuntime.mark((function e(t,n){var r,a,i,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(c,"?q=").concat(n)+"&appid=".concat(o,"&units=").concat(u),a="".concat(c,"?").concat(t)+"&appid=".concat(o,"&units=").concat(u),i=t?a:r,e.next=5,fetch(i);case 5:return p=e.sent,e.abrupt("return",p.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},b=function(e,t){return E.apply(this,arguments)},x=function(){return(x=r(regeneratorRuntime.mark((function e(){var t,n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,r=n.longitude,c=n.latitude,e.abrupt("return","lat=".concat(c,"&lon=").concat(r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},w=function(){return x.apply(this,arguments)},f=function(){var e=document.createElement("div");e.id="map",n.append(e)},(n=document.createElement("div")).classList.add("container"),document.body.append(n),i=document.createElement("form"),t.classList.add("form-container"),t.append(i),p=document.createElement("input"),s=document.createElement("button"),m=document.createElement("p"),n.append(t),i.append(p),i.append(s),i.append(m),s.innerText="Get weather",(d=document.createElement("div")).classList.add("weather-container"),n.append(d),f(),l=document.createElement("h2"),v=document.createElement("h2"),h=document.createElement("img"),g=document.createElement("h4"),y=document.createElement("h4"),e.next=41,M();case 41:return e.next=43,T();case 43:N=e.sent,H(m,N),i.addEventListener("submit",(function(e){e.preventDefault();var t=p.value;p.value="",I(t,N),P(N),H(m,N)}));case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i(document.createElement("div")),module.exports.yourLibName=t}();