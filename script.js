!function(){"use strict";var e={d:function(n,t){for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};function t(e,n,t,r,a,c,o){try{var u=e[c](o),i=u.value}catch(e){return void t(e)}u.done?n(i):Promise.resolve(i).then(r,a)}function r(e){return function(){var n=this,r=arguments;return new Promise((function(a,c){var o=e.apply(n,r);function u(e){t(o,a,c,u,i,"next",e)}function i(e){t(o,a,c,u,i,"throw",e)}u(void 0)}))}}e.r(n),e.d(n,{init:function(){return i}});var a="https://get.geojs.io/v1/ip/geo.json",c="https://api.openweathermap.org/data/2.5/weather",o="88ce4f055b5f8a390b0c49938a6d8383",u="metric";function i(e){return p.apply(this,arguments)}function p(){return(p=r(regeneratorRuntime.mark((function e(n){var t,i,p,s,m,d,f,l,v,h,g,y,w,x,b,E,R,L,k,j,M,S,T,O,P,H,I,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I=function(e,n){n.includes(e)||(n.unshift(e),n.length>10&&n.pop())},H=function(e,n){e.innerHTML="<ul>".concat(n.map((function(e){return"<li>".concat(e,"</li>")})).join(""),"</ul>")},P=function(e){localStorage.setItem("list",JSON.stringify(e))},O=function(){return(O=r(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("list"));case 2:return n=e.sent,e.abrupt("return",null!=n?n:[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},T=function(){return O.apply(this,arguments)},S=function(){return(S=r(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return n=e.sent,e.next=5,b(n);case 5:return t=e.sent,e.next=8,R(t);case 8:j(t),p.addEventListener("change",function(){var e=r(regeneratorRuntime.mark((function e(n){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.value,e.next=3,b(void 0,t);case 3:return r=e.sent,e.next=6,R(r);case 6:j(r,!0);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),m.addEventListener("click",function(){var e=r(regeneratorRuntime.mark((function e(n){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("LI"!==n.target.tagName){e.next=8;break}return t=n.target.innerText,e.next=4,b(void 0,t);case 4:return r=e.sent,e.next=7,R(r);case 7:j(r,!0);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},M=function(){return S.apply(this,arguments)},j=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&(k(),f());var t=e.coord,r=t.lon,a=t.lat,c=function(){return new ymaps.Map("map",{center:[a,r],zoom:9})};ymaps.ready(c)},k=function(){document.getElementById("map").remove()},L=function(){return(L=r(regeneratorRuntime.mark((function e(n){var t,r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.name,r=n.sys.country,a=n.main.temp,c=n.weather[0].icon,y.innerHTML="temperature:",l.innerHTML="".concat(Math.ceil(a),"Â°C"),v.innerHTML="".concat(t," (").concat(r,")"),g.innerHTML="city:",h.src="https://openweathermap.org/img/wn/".concat(c,"@2x.png"),d.append(g),d.append(v),d.append(h),d.append(y),d.append(l);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=function(e){return L.apply(this,arguments)},E=function(){return(E=r(regeneratorRuntime.mark((function e(n,t){var r,a,i,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(c,"?q=").concat(t)+"&appid=".concat(o,"&units=").concat(u),a="".concat(c,"?").concat(n)+"&appid=".concat(o,"&units=").concat(u),i=n?a:r,e.next=5,fetch(i);case 5:return p=e.sent,e.abrupt("return",p.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},b=function(e,n){return E.apply(this,arguments)},x=function(){return(x=r(regeneratorRuntime.mark((function e(){var n,t,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,r=t.longitude,c=t.latitude,e.abrupt("return","lat=".concat(c,"&lon=").concat(r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},w=function(){return x.apply(this,arguments)},f=function(){var e=document.createElement("div");e.id="map",t.append(e)},(t=document.createElement("div")).classList.add("container"),document.body.append(t),i=document.createElement("form"),n.classList.add("form-container"),n.append(i),p=document.createElement("input"),s=document.createElement("button"),m=document.createElement("p"),t.append(n),i.append(p),i.append(s),i.append(m),s.innerText="Get weather",(d=document.createElement("div")).classList.add("weather-container"),t.append(d),f(),l=document.createElement("h2"),v=document.createElement("h2"),h=document.createElement("img"),g=document.createElement("h4"),y=document.createElement("h4"),e.next=41,M();case 41:return e.next=43,T();case 43:N=e.sent,H(m,N),i.addEventListener("submit",(function(e){e.preventDefault();var n=p.value;p.value="",I(n,N),P(N),H(m,N)}));case 46:case"end":return e.stop()}}),e)})))).apply(this,arguments)}module.exports.yourLibName=n}();